{"version":3,"sources":["webpack:///./src/pages/article/tool/gulp.vue?a750","webpack:///src/pages/article/tool/gulp.vue","webpack:///./src/pages/article/tool/gulp.vue?5a21","webpack:///./src/pages/article/tool/gulp.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","domProps","_s","format","text","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,SAAS,CAAC,UAAYN,EAAIO,GAAGP,EAAIQ,OAAOR,EAAIS,WAClJC,EAAkB,GCItB,GACE,KADF,WAEI,MAAJ,CACM,KAAN,i6XCR4W,I,YCOxWC,EAAY,eACd,EACAZ,EACAW,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d0c8fb9.6774ad54.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{domProps:{\"innerHTML\":_vm._s(_vm.format(_vm.text))}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div v-html=\"format(text)\"></div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            text: `\r\n#起步\r\n##介绍\r\ngulp 是个前端构建工具，它充分借鉴了 unix 操作系统的管道（pipe）思想，在操作上要比同类型的 grunt 简单一点\r\ngulp 一般使用流程：\r\n!!\r\ntask()：创建任务\r\n    src()：获取文件流\r\n        pipe()：传输文件流，将文件流导入到需要的 gulp 插件中处理\r\n            pipe()：传输文件流，把处理后的文件流导入到·dest()·\r\n                dest()：输入处理后的文件\r\n    watch()：监听文件的变动执行相应的任务\r\n!!\r\n例如：\r\n··\r\nconst gulp = require('gulp') // 加载 gulp 模块\r\nconst sass = require('gulp-sass') // 加载 gulp-sass 模块\r\n\r\n// 创建编译 sass 任务：获取 scss 文件，以 compact 模式编译，将结果输出到 css 文件中\r\ngulp.task('sass', function () {\r\n    gulp.src('scss/*.scss')\r\n        .pipe(sass({outputStyle: 'compact'}))\r\n        .pipe(gulp.dest('css'))\r\n})\r\n\r\n// 监听 scss 文件，若发生改变则自动编译成 css\r\ngulp.task('compile', function () {\r\n    gulp.watch('scss/*.scss', ['sass'])\r\n})\r\n··\r\n\r\n##安装\r\ngulp 基于 node 环境，所以需先安装 @[node 环境|#js/node]，全局安装 gulp：\r\n··\r\ncnpm install gulp  -g\r\n··\r\n查看版本号，执行：\r\n··\r\ngulp -v\r\n··\r\n然后在需要的项目中安装 gulp：\r\n··\r\ncnpm install gulp\r\n··\r\n若需要将 gulp 写进项目 package.json 文件的依赖中则可以加上·--save-dev·：\r\n··\r\ncnpm install gulp  --save-dev\r\n··\r\n在全局安装 gulp 后又需要在项目中安装，是为了版本的灵活性和项目的独立性\r\n\r\n##gulpfile.js\r\n·gulpfile.js·是 gulp 工具的主文件，通常在项目的根目录，不推荐放置在其他文件夹内，不然路径要多写了\r\n创建任务打印 hello world：\r\n··\r\nvar gulp = require('gulp')\r\ngulp.task('hello', function () {\r\n    console.log('hello world')\r\n})\r\n··\r\n在存放·gulpfile.js·文件的目录下执行·gulp hello·即可运行这个任务，若不指定任务名即执行·gulp·，将会执行任务名为·default·的默认任务\r\n\r\n#API\r\n\r\n##task()\r\n·gulp.task(name [, deps], [, fn])·：创建任务\r\n!!\r\nname{String}：自定义任务名\r\ndeps{Array}：当前任务依赖的任务名，当前任务会在所有依赖的任务执行完毕后才开始执行\r\nfn(call){Function}：任务内容\r\n    call{Function}：通知当前任务完成，在异步任务中使用\r\n!!\r\n依赖的任务：\r\n··\r\ngulp.task('one', ['two', 'three', 'four'], function () {\r\n    // 在 two、three、four 执行完后执行\r\n});\r\n··\r\n注意若依赖的任务是异步的，gulp 并不会等异步任务完成，而是会接着执行后续的任务。例如：\r\n··\r\ngulp.task('one', () => {\r\n    setTimeout(() => {\r\n        console.log('one')\r\n    }, 1000)\r\n})\r\n\r\ngulp.task('two', ['one'], () => console.log('two'))\r\n\r\n// 运行 gulp two\r\n// two\r\n// one\r\n··\r\n回调通知可在异步完成之后再执行\r\n··\r\ngulp.task('one', call => {\r\n    setTimeout(() => {\r\n        console.log('one')\r\n        call() // 执行回调，表示这个异步任务已经完成\r\n    }, 1000)\r\n})\r\n\r\ngulp.task('two', ['one'], () => console.log('two'))\r\n··\r\n返回文件流也可在异步完成之后再执行\r\n··\r\ngulp.task('one', () => {\r\n    return gulp.src('*')\r\n        .pipe(fn()) // fn() 中有异步操作\r\n        .pipe(gulp.dest('dest'))\r\n})\r\n\r\ngulp.task('two', ['one'], () => console.log('two'))\r\n··\r\n\r\n##src()\r\n·gulp.src(globs[, options])·：读取文件\r\n!!\r\nglobs{String/Array}：文件匹配模式，可匹配文件路径和文件名\r\n    可使用数组的形式表示多个匹配模式，且在非第一个元素的开头加上·!·可使用排除模式，即会在匹配的结果中排除这个匹配\r\noptions{Object}：可选参数，通常情况下不需要用到\r\n    base{String}：默认值为基础路径，·dest()·有介绍\r\n    buffer{Boolean}[true]：·true·是以文件 buffer 的方式返回·file.contents·，否则以 stream 方式（适合大文件）返回\r\n    其他参数见底部官网链接\r\n!!\r\ngulp 内部使用了 @[node-glob|https://github.com/isaacs/node-glob] 模块（类似正则表达式）来实现其文件匹配功能，可使用一些特殊字符来匹配文件：\r\n!!\r\n*：匹配 0 个或多个字符，但不会匹配路径分隔符，除非路径分隔符出现在末尾\r\n**：单独出现或左右是路径分隔符匹配所有目录和文件，否则只能匹配一个层级\r\n?：匹配 1 个字符（不会匹配路径分隔符）\r\n[¿]：匹配方括号中的任意一个字符，当方括号中第一个字符为·^·或·!·时，表示非方括号中的任意一个字符\r\n!¿(pattern|pattern|pattern)：匹配任何与括号中给定的任一模式都不匹配的\r\n?(pattern|pattern|pattern)：匹配括号中给定的任一模式0次或1次，类似于js正则中的·(pattern|pattern|pattern)?·\r\n+(pattern|pattern|pattern)：匹配括号中给定的任一模式至少1次，类似于js正则中的·(pattern|pattern|pattern)+·\r\n*(pattern|pattern|pattern)：匹配括号中给定的任一模式0次或多次，类似于js正则中的·(pattern|pattern|pattern)*·\r\n@(pattern|pattern|pattern)：匹配括号中给定的任一模式1次，类似于js正则中的·(pattern|pattern|pattern)·\r\n!!\r\n比如：\r\n··\r\n'*' // 能匹配任意格式文件和文件夹，如 a.js、x.y、abc、abc/，不能匹配 a/b.js\r\n'*.*' // 能匹配任意格式文件，不能匹配 x/y.z\r\n'*/*¿/*¿.js' // 能匹配 a/b/c.js，不能匹配 a/b.js、a/b/c/d.js\r\n'**' // 能匹配所有的目录和文件\r\n'**/*¿.js' // 能匹配所有目录下的 js 文件\r\n'a/*¿*/z' // 能匹配 a 目录下的所有 z 文件\r\n'a/**b/z' // 能匹配 a/b/z、a/ab/z，不能匹配 a/x/ab/z，因为只有 ** 单独出现才能匹配多级目录\r\n'?.js' // 能匹配 a.js、b.js、c.js，不能匹配 ab.js\r\n'a??' // 能匹配 a.b、abc，不能匹配 ab/，因为 ? 不会匹配路径分隔符\r\n'[xyz].js' // 只能匹配 x.js、y.js、z.js\r\n'[^xyz].js' // 能匹配所有非 x.js、y.js、z.js 的 js 文件\r\n'*.+(js|css)' // 匹配所有后缀名为 js 或 css 的文件\r\n\r\ngulp.src(['*.html', 'css/*.css', 'js/*.js']) // 多种匹配模式使用数组\r\ngulp.src(['*.js', '!b*.js']) // 匹配所有不是以 b 开头的 js 文件\r\ngulp.src(['!b*.js', '*.js']) // 排除无效，不能出现在数组的第一个元素中\r\n··\r\n\r\n##dest()\r\n·gulp.dest(path[, options])·：输出文件\r\n!!\r\npath{String/Function}：写入文件的路径目录，注意不能是文件名，否则也会当成目录，文件名随·src()·获取的文件名\r\noptions{Object}：可选参数，通常情况下不需要用到\r\n    cwd{String}[process.cwd()]：输出目录的 cwd 参数，只在所给的输出目录是相对路径时候有效\r\n    mode{String}[0777]：八进制权限字符，用以定义所有在输出目录中所创建的目录的权限\r\n    其他参数见底部官网链接\r\n!!\r\n输出的文件路径是传入的·path·参数后面再加上·src()·中有通配符开始出现的那部分路径，没有则取最后的文件名。例如：\r\n··\r\nvar gulp = reruire('gulp')\r\n\r\ngulp.src('script/*¿*/*¿.js') // 通配符部分的路径为 **/*.js\r\n    .pipe(gulp.dest('dist')) // 输出路径为 dist/**/*.js\r\n\r\ngulp.src('script/js/jquery.js') // 没有通配符取最后的文件名\r\n    .pipe(gulp.dest('dist')) // 输出路径为 dist/jquery.js\r\n··\r\n通过指定·src()·中第二个参数的·base·属性可以指定输出路径，·base·的默认值为通配符开始出现之前那部分路径\r\n例如·gulp.src('app/src/**/*.css')·中·base·的值为·app/src·，所以其实·dest()·传入的输出路径也就是替换了·src()·中的·base·路径\r\n··\r\nvar gulp = reruire('gulp')\r\n\r\ngulp.src('js/lib/*.js', {base : 'js'})  // 指定 base 路径为 js\r\n    .pipe(gulp.dest('build'))   // 替换 js，输出路径为 build/lib/*.js\r\n··\r\n用·dest()·输出文件后，文件流仍然可以继续使用，即可继续使用·pipe()·\r\n\r\n##watch()\r\n监听文件变化后执行任务\r\n###gulp.watch(glob [, opts] [, tasks])\r\n!!\r\nglob{String/Array}：同·src()·中的·glob·\r\nopts{Object}：一些配置，通常情况下不需要用到\r\ntasks{Array}：文件变化后要执行的任务名\r\n!!\r\n··\r\ngulp.task('uglify', () => {})\r\ngulp.task('reload', () => {})\r\ngulp.watch('js/*.js', ['uglify', 'reload'])\r\n··\r\n###gulp.watch(glob [, opts] [, call])\r\n!!\r\ncall(info){Function}：每当监视的文件发生变化时，就会调用这个函数\r\n    info{Object}：文件变化的信息\r\n        type：变化的类型，可以是·added·新增、·changed·改变 、·deleted·删除\r\n        path：变化文件的路径\r\n!!\r\n··\r\ngulp.watch('js/*¿*/*.js', function (res) {\r\n    console.log(res.type)\r\n    console.log(res.path)\r\n})\r\n··\r\n\r\n#常用插件\r\n\r\n##自动加载\r\n说明：·gulp-load-plugins·这个插件能自动加载·package.json·文件里的 gulp 插件，@[参数配置|https://www.npmjs.com/package/gulp-load-plugins#options]\r\n安装：\r\n··\r\ncnpm install gulp-load-plugins --save-dev\r\n··\r\n使用前：\r\n··\r\nconst gulp = require('gulp'),\r\n    a = require('gulp-a'),\r\n    b = require('gulp-b'),\r\n    c = require('gulp-c'),\r\n    d = require('gulp-d'),\r\n    e = require('gulp-e')\r\n··\r\n使用后：\r\n··\r\nconst gulp = require('gulp')\r\nconst {a, b, c, d, e} = require('gulp-load-plugins')()\r\n··\r\n其插件的命名方式是·package.json·中依赖的名称去掉·gulp-·前缀再转驼峰命名\r\n例如假设·package.json·文件里的依赖是这样的：\r\n··\r\n{\r\n    \"devDependencies\": {\r\n        \"gulp\": \"^3.9.1\",\r\n        \"gulp-rename\": \"^1.2.0\",\r\n        \"gulp-ruby-sass\": \"^4.0.1\",\r\n        \"gulp-load-plugins\": \"^1.5.0\"\r\n    }\r\n}\r\n··\r\n引用时：\r\n··\r\nconst gulp = require('gulp')\r\nconst {rename, rubySass} = require('gulp-load-plugins')()\r\n··\r\n·gulp-load-plugins·并不会一开始就加载所有·package.json·里的 gulp 插件，而是在用到的时候才去加载\r\n注意：因为是通过·package.json·文件来加载插件的，所以要确定需要的插件已经写入到了·package.json·文件依赖里，并且已经安装好了这些插件\r\n\r\n##重命名\r\n用·dest()·输出文件时，文件名使用的是·src()·获取的文件名，·gulp-rename·插件可以改变这个文件名，@[用法|https://www.npmjs.com/package/gulp-rename#usage]\r\n安装：\r\n··\r\ncnpm install gulp-rename --save-dev\r\n··\r\n使用：\r\n··\r\nconst gulp = require('gulp'),\r\n    rename = require('gulp-rename'),\r\n    uglify = require(\"gulp-uglify\") // 压缩 js\r\n\r\ngulp.task('rename', function () {\r\n    gulp.src('js/jquery.js')\r\n        .pipe(uglify())\r\n        .pipe(rename('jquery.min.js')) // 重命名为 jquery.min.js\r\n        .pipe(gulp.dest('js'))\r\n})\r\n··\r\n\r\n##文件压缩\r\n压缩 html 文件：·gulp-htmlmin·，@[参数配置|https://github.com/kangax/html-minifier#options-quick-reference]\r\n压缩 css 文件：·gulp-clean-css·，@[参数配置|https://github.com/jakubpawlowicz/clean-css#constructor-options]\r\n压缩 js 文件：·gulp-uglify·，@[参数配置|https://github.com/mishoo/UglifyJS2#minify-options]\r\n压缩图片：·gulp-imagemin·，@[用法|https://www.npmjs.com/package/gulp-imagemin#usage]\r\n安装：\r\n··\r\ncnpm install gulp-htmlmin --save-dev\r\ncnpm install gulp-clean-css --save-dev\r\ncnpm install gulp-uglify --save-dev\r\ncnpm install gulp-imagemin --save-dev\r\n··\r\n使用\r\n··\r\nconst gulp = require('gulp'),\r\n    miniHtml = require('gulp-htmlmin')\r\n\r\ngulp.task('htmlmin', function () {\r\n    gulp.src('html/*.html')\r\n    .pipe(miniHtml())\r\n    .pipe(gulp.dest('dist/html'))\r\n})\r\n··\r\n\r\n##文件合并\r\n·gulp-concat·插件可用来把多个文件合并为一个文件，例如合并所有 js 或 css 为一个文件，这样就能减少 http 请求数了，@[用法|https://www.npmjs.com/package/gulp-concat#usage]\r\n安装：\r\n··\r\ncnpm install --save-dev gulp-concat\r\n··\r\n使用：\r\n··\r\nconst gulp = require('gulp'),\r\n    concat = require('gulp-concat')\r\n\r\ngulp.task('concat', function () {\r\n    gulp.src('js/*.js')\r\n    .pipe(concat('all.js'))     // 合并匹配到的 js 文件并命名为 all.js\r\n    .pipe(gulp.dest('dist'))\r\n})\r\n··\r\n\r\n##js 代码检查\r\n@[参数配置|https://jshint.com/docs/options/]\r\n安装：\r\n··\r\ncnpm install jshint --save-dev\r\n··\r\n使用：\r\n··\r\nconst gulp = require('gulp'),\r\n    jshint = require('jshint')\r\n\r\ngulp.task('jsLint', function () {\r\n    gulp.src('js/*.js')\r\n    .pipe(jshint())\r\n    .pipe(jshint.reporter())    // 输出检查结果\r\n})\r\n··\r\n\r\n## 编译 sass\r\n@[参数配置|https://www.npmjs.com/package/gulp-sass#options]\r\n安装：\r\n··\r\ncnpm install gulp-sass --save-dev\r\n··\r\n使用：\r\n··\r\nconst gulp = require('gulp'),\r\n    sass = require('gulp-sass')\r\n\r\ngulp.task('compile-sass', function () {\r\n    gulp.src('sass/*.sass')\r\n    .pipe(sass({outputStyle: 'compact'}))\r\n    .pipe(gulp.dest('dist/css'))\r\n})\r\n··\r\n\r\n##babel 转 es5\r\n@[安装说明|https://www.npmjs.com/package/gulp-babel#install]，@[参数配置|https://babeljs.io/docs/en/options]\r\n安装：\r\n··\r\ncnpm install --save-dev gulp-babel @babel/core @babel/preset-env\r\n··\r\n使用：\r\n··\r\nconst gulp = require('gulp'),\r\n    babel = require('gulp-babel')\r\n\r\ngulp.task('default', function () {\r\n    gulp.src('js/*.js')\r\n        .pipe( babel({ presets: ['@babel/env'] }) )\r\n        .pipe(gulp.dest('dest/js'))\r\n})\r\n··\r\n\r\n##浏览器自动刷新\r\n·browser-sync·插件能让浏览器在文件改动时自动刷新页面，还可搭建静态服务，同一个 WiFi 中的任何设备都可以方便地访问到\r\n默认打开·localhost:3000·，UI 配置页面为端口号 +1，即·localhost:3001·，若 3000 端口被占用将打开 3001，UI 配置页面为 3002，依次类推\r\n@[参数配置|http://www.browsersync.cn/docs/options]\r\n安装：\r\n··\r\ncnpm install browser-sync --save-dev\r\n··\r\n使用：\r\n··\r\nvar gulp = require('gulp')\r\nvar bs = require('browser-sync').create()\r\n\r\ngulp.task('serve', function () {\r\n    // 初始化静态服务器，server 为服务配置，空字符串代表根目录，默认打开 index.html\r\n    bs.init({ server: '' })\r\n    // 当文件改动时刷新浏览器\r\n    gulp.watch(['index.html', 'css/*.css', 'js/*.js'], bs.reload)\r\n})\r\n··\r\n\r\n##其他\r\n!!\r\ngulp-sourcemaps：映射源文件，支持的插件@[说明|https://github.com/gulp-sourcemaps/gulp-sourcemaps/wiki/Plugins-with-gulp-sourcemaps-support]，sourcemap @[参考说明|http://www.ruanyifeng.com/blog/2013/01/javascript_source_map.html]，@[npm|https://www.npmjs.com/package/gulp-sourcemaps]\r\ngulp-replace：文件内的文本替换插件，可使用正则，@[npm|https://www.npmjs.com/package/gulp-replace]\r\ngulp-autoprefixer：给 css 样式补充前缀，@[npm|https://www.npmjs.com/package/gulp-autoprefixer]\r\ngulp-typescript：ts 编译成 js，@[npm|https://www.npmjs.com/package/gulp-typescript]\r\n!!\r\n\r\n#啃得起全家桶\r\n安装开发时插件：\r\n··\r\ncnpm install --save-dev gulp gulp-load-plugins gulp-sass browser-sync\r\n··\r\n安装打包插件：\r\n··\r\ncnpm install --save-dev gulp-htmlmin gulp-clean-css gulp-uglify gulp-imagemin gulp-babel @babel/core @babel/preset-env\r\n··\r\n·gulpfile.js·：\r\n··\r\nconst gulp = require('gulp')\r\nconst p = require('gulp-load-plugins')()\r\nconst bs = require('browser-sync').create()\r\n\r\n// 获取 scss 文件，以 compact 模式编译，将结果输出到 css 文件中，刷新浏览器并注入流\r\ngulp.task('sass', () => {\r\n    gulp.src('scss/*¿.scss')\r\n        .pipe(p.sass({outputStyle: 'compact'}))\r\n        .pipe(gulp.dest('css'))\r\n        .pipe(bs.reload({stream: true}))\r\n})\r\n\r\n// 开启服务，实时编译 scss 文件，文件改动时自动刷新浏览器\r\ngulp.task('default', () => {\r\n    bs.init({server: ''})\r\n    gulp.watch('scss/*¿.scss', ['sass'])\r\n    gulp.watch(['index.html', 'css/*¿.css', 'js/*¿.js'], bs.reload)\r\n})\r\n\r\n// 压缩 html\r\ngulp.task('mhtml', () => {\r\n    gulp.src('html/*.html')\r\n        .pipe(p.htmlmin())\r\n        .pipe(gulp.dest('dist/html'))\r\n})\r\n\r\n// 压缩 css\r\ngulp.task('mcss', () => {\r\n    gulp.src('css/*.css')\r\n        .pipe(p.cleanCss())\r\n        .pipe(gulp.dest('dist/css'))\r\n})\r\n\r\n// 压缩 js\r\ngulp.task('mjs', () => {\r\n    gulp.src('js/*.js')\r\n        .pipe(p.babel({ presets: ['@babel/env'] }))\r\n        .pipe(p.uglify())\r\n        .pipe(gulp.dest('dist/js'))\r\n})\r\n\r\n// 压缩图片\r\ngulp.task('mimg', () => {\r\n    gulp.src('img/*')\r\n        .pipe(p.imagemin())\r\n        .pipe(gulp.dest('dist/img'))\r\n})\r\n\r\n// 压缩打包文件\r\ngulp.task('pack', ['mhtml', 'mcss', 'mjs', 'mimg'])\r\n··\r\n\r\n@@\r\ngulp 官网|https://gulpjs.com/\r\ngulp 中文网|https://www.gulpjs.com.cn/docs/getting-started/\r\n博客园-无双|http://www.cnblogs.com/2050/p/4198792.html\r\nnpm 搜索 gulp 插件|https://www.npmjs.com/search?q=keywords:gulpplugin\r\nBrowsersync 中文网|http://www.browsersync.cn\r\ngulp 4 升级指南|https://segmentfault.com/a/1190000005357048\r\n@@\r\n\r\n&2019/4/10（本文档基于 gulp 3）\r\n`\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gulp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gulp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gulp.vue?vue&type=template&id=2e905466&\"\nimport script from \"./gulp.vue?vue&type=script&lang=js&\"\nexport * from \"./gulp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}